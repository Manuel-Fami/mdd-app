<app-header></app-header>

<app-back-button></app-back-button>

<div class="article-container">
  <div class="article-form">
    <h2>Créer un article</h2>
    <form (ngSubmit)="onSubmit()" [formGroup]="articleForm">
      <div class="mb-3 input-container">
        <label for="topicSelect" class="form-label"
          >Sélectionnez un thème</label
        >
        <select
          id="topicSelect"
          class="form-select input-size"
          formControlName="topicId"
          required
        >
          <option value="" disabled selected>Choisissez un thème...</option>
          <option *ngFor="let topic of topics" [value]="topic.id">
            {{ topic.title }}
          </option>
        </select>
        <div
          *ngIf="
            formSubmitted && articleForm.get('topicId')?.hasError('required')
          "
          class="invalid-feedback"
        >
          Ce champ est requis
        </div>
      </div>

      <div class="mb-3 input-container">
        <label for="title" class="form-label">Titre</label>
        <input
          type="text"
          class="form-control input-size"
          id="title"
          formControlName="title"
          required
        />
        <div
          *ngIf="formSubmitted && articleForm.get('title')?.errors?.['required']"
          class="text-danger"
        >
          Ce champ est obligatoire.
        </div>
      </div>

      <div class="mb-3 input-container">
        <label for="description" class="form-label">Description</label>
        <input
          type="text"
          class="form-control input-size"
          id="description"
          formControlName="description"
          required
        />
        <div
          *ngIf="formSubmitted && articleForm.get('description')?.errors?.['required']"
          class="text-danger"
        >
          Ce champ est obligatoire.
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <button class="btn btn-primary btn-small" type="submit">Créer</button>
      </div>
    </form>
  </div>
</div>
